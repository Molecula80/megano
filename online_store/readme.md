# Онлаййн магазин Megano

### Инструкция по установке и первому запуску 

Установить зависимости:

```bash
pipenv install
```

Активиовать виртуальное окружение:

```bash
pipenv shell
```

Перейти в папку проекта:

```bash
cd online_store
```

Провести миграцию:

```bash
python manage.py migrate
```

Создать суперпользователя:

```bash
python manage.py createsuperuser
```

Загрузить группы пользователей из файла фикстур:
```bash
python manage.py loaddata auth/groups.json
```

Загрузить пользователей из файла фикстур:
```bash
python manage.py loaddata app_users/users.json
```

Пароли пользователей:\
user1@gmail.com: PasswordU1\
user2@gmail.com: PasswordU2\
user3@gmail.com: PasswordU3

Загрузить категории, производителей и продавцов из файла фикстур:
```bash
python manage.py loaddata app_catalog/categories.json
python manage.py loaddata app_catalog/fabricators.json
python manage.py loaddata app_catalog/sellers.json
```

Загрузить товары из файла фикстур:
```bash
python manage.py loaddata app_catalog/products.json
```

Загрузить пункты описания, пункты дополнительной информации и отзывы из файла фикстур:
```bash
python manage.py loaddata app_catalog/descr_points.json
python manage.py loaddata app_catalog/add_info_points.json
python manage.py loaddata app_catalog/reviews.json
```

Загрузить способы доставки из файла фикстур:
```bash
python manage.py loaddata app_ordering/delivery_methods.json
```

Загрузить заказы из файла фикстур:
```bash
python manage.py loaddata app_ordering/orders.json
```

Загрузить единицы заказа из файла фикстур:
```bash
python manage.py loaddata app_ordering/order_items.json
```

Запустить веб-сервер проекта:

```bash
python manage.py runserver
```

Если у вас нет аккаунта, перейдите по ссылке 
[зарегистриаоваться](http://127.0.0.1:8000/register/), введите свои данные
и нажмите кнопку. Вы будете автоматически перенаправлены на страницу своего
аккаунта. Если же у вас есть аккаунт, перейдите по ссылке 
[войти](http://127.0.0.1:8000/login/), введите логин и пароль и нажмите на 
кнопку. Далее вам необходимо пополнить баланс. Для этого перейдите по 
соответствующей ссылке, Введите сумму, на которую вы хотите пополнить и 
нажмите на кнопку.

Теперь можно приступить к покупкам. Для этого перейдите на 
[страницу товаров](http://127.0.0.1:8000/items/), выберите интересующий вас
товар, выберите количества товара, которое вы хотите купить, и нажмите на
кнопку ```Добавить в корзину```. Вас перенаправит на 
[страницу корзины](http://127.0.0.1:8000/cart/). Для того, чтобы изменить
количество товара, выберите количество товара, которое вы хотите купить и
нажмите кнопку ```Обновить```. Для того, чтобы удалить товар из корзины, 
нажмите на ссылку ```Удалить```. Для того, чтобы добавить в корзину новый 
товар, перейдите по ссылке [продолжить покупки](http://127.0.0.1:8000/items/).
Она переведет вас на страницу товаров. 

После того как вы выберите все необходимые товары, нажмите на кнопку 
```Купить```. С вашего баланса спишется общая стоимость покупок, и вас
перенаправит на страницу вашего аккаунта. Если на вашем счету недостаточно 
средств, или в магазине недостаточно единиц какого либо из товаров, покупка
не произойдет.

По мере того, как вы тратите деньги, у вас увеличивается статус. При
получении нового статаус вы получаете скидки на все товары. Начальный статус - 
`пользователь`. Если ваш статус пользователь, то у вас нет скидок. Потратив 
пять тысяч долларов, вы поучаете статус `продвинутый` и скидку десять 
процентов. Потратив десять тысяч - статус `vip` и скидку 20 %. Двадцать пять
тысяч - статус `золото` и скидку 30 %. И наконец потратив пятьдесят тысяч вы
получаете статус `платина` - самый высокий статус. Обладатели этого статуса
получают скидку 40 % на все товары.

Также вы можете посмотрет отчеты о самых продаваемых товаров. Для этого 
перейдите по ссылке [отчеты](http://127.0.0.1:8000/report/seconds/0/).
Здесь вы можете узнать о самых продаваемых товарах за все время или 
определенный период времени. Для этого перейдите по одной из ссылок.